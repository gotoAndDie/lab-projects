<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" onload="senddown()" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
<defs>
  <filter id="svg_1_blur" x="-50%" y="-50%" width="200%" height="200%">
   <feGaussianBlur stdDeviation="12"/>
  </filter>
</defs>
<g id="monster1" transform="translate(999 999) scale(0.1)">
	<path d="m260.40914,0l-62.36354,35.4729l0,32.81913l41.87855,2.69952l-1.80404,28.26982l-33.72115,0.89548l-25.04085,18.64174l25.04085,19.11236l30.96934,0.47062l0,14.56304l-22.28904,0.90202l0.90202,25.0866l20.9164,0.90202l0.47062,17.26256l-46.42786,-21.81842l-4.55585,49.61108l-14.5565,-6.83051l9.53003,-19.11236l-20.485,-12.759l-12.759,20.01438l-13.65449,-8.63455l15.03366,-26.83835l-1.37917,-32.34851l-30.92358,12.28838l-15.92914,27.78613l-26.42002,-12.28185l18.21034,-34.61664l-29.1653,-17.31485l-60.98437,35.04804l-0.90202,71.521l28.68815,15.92914l22.28904,-33.244l25.518,14.08589l-17.78547,29.64246l3.17668,30.49218l30.96934,-11.85698l15.51082,-29.11955l15.45852,8.15739l-12.28185,20.96215l22.75965,13.18387l10.90921,-20.90986l16.41283,9.53003l-43.72834,31.87136l43.72834,31.86482l-16.41283,9.58232l-10.90921,-20.96215l-22.75965,13.22962l12.28185,21.39355l-15.45852,7.72599l-15.51082,-29.11955l-30.96934,-11.85045l-3.17668,30.49218l17.78547,29.59016l-25.518,14.13164l-22.28904,-33.244l-28.68815,16.41283l0.90202,70.99156l60.98437,35.09379l29.1653,-16.88345l-18.21034,-35.0415l26.42002,-12.28838l15.92914,27.79266l30.92358,12.28185l1.37917,-32.29622l-15.03366,-26.89064l13.65449,-8.67377l12.759,20.06013l20.485,-12.759l-9.53003,-19.11236l14.5565,-6.83051l4.55585,49.61108l46.42786,-21.86417l-0.47062,17.78547l-20.9164,0.47062l-0.90202,25.46571l22.28904,0.47716l0,14.5565l-30.96934,0.4314l-25.04085,19.15811l25.04085,18.6352l33.72115,0.94777l1.80404,28.22406l-41.87855,3.17668l0,32.29622l62.36354,35.56441l62.36354,-35.56441l0,-32.29622l-41.87855,-3.17668l1.80404,-28.22406l33.72115,-0.94777l25.04085,-18.6352l-25.04085,-19.15811l-31.44649,-0.4314l0,-14.5565l22.34133,-0.47716l-0.47716,-25.46571l-20.9164,-0.47062l-0.94777,-17.78547l46.48015,21.86417l4.98072,-49.61108l14.5565,6.83051l-9.53003,19.11236l20.485,12.759l12.28185,-20.06013l14.13164,8.67377l-15.03366,26.89064l0.90202,32.29622l31.40074,-12.28185l15.92914,-27.79266l26.42002,12.28838l-18.21034,35.0415l29.1653,16.88345l60.98437,-35.09379l0.90202,-70.99156l-28.68815,-16.41283l-22.28904,33.244l-25.518,-14.13164l17.30832,-29.59016l-2.69952,-30.49218l-30.96934,11.85045l-15.51082,29.11955l-15.93568,-7.72599l12.759,-21.39355l-22.75965,-13.22962l-10.90921,20.96215l-16.41283,-9.58232l43.72834,-31.86482l-43.72834,-31.87136l16.41283,-9.53003l10.90921,20.90986l22.75965,-13.18387l-12.759,-20.96215l15.93568,-8.15739l15.51082,29.11955l30.96934,11.85698l2.69952,-30.49218l-17.30832,-29.64246l25.518,-14.08589l22.28904,33.244l28.68815,-15.92914l-0.90202,-71.521l-60.98437,-35.04804l-29.1653,17.31485l18.21034,34.61664l-26.42002,12.28185l-15.92914,-27.78613l-31.40074,-12.28838l-0.90202,32.34851l15.03366,26.83835l-14.13164,8.63455l-12.28185,-20.01438l-20.485,12.759l9.53003,19.11236l-14.5565,6.83051l-4.98072,-49.61108l-46.48015,21.81842l0.94777,-17.26256l20.9164,-0.90202l0.47716,-25.0866l-22.34133,-0.90202l0,-14.56304l31.44649,-0.47062l25.04085,-19.11236l-25.04085,-18.64174l-33.72115,-0.89548l-1.80404,-28.26982l41.87855,-2.69952l0,-32.81913l-62.36354,-35.4729z" id="polyline18" stroke-dashoffset="0" stroke-miterlimit="10.433" stroke-linejoin="round" stroke-linecap="round" stroke-width="0" fill="#00ffff" stroke="#1e1916"/>
	<path d="m260.40914,0l-62.36355,35.4729l0,32.81914l41.87855,2.69952l-1.80404,28.26982l-33.72115,0.89548l-25.04085,18.64174l25.04085,19.11235l30.96934,0.47062l0,14.56304l-22.28904,0.90202l0.90202,25.08661l20.9164,0.90202l0.47062,17.26256l-46.42787,-21.81842l-4.55585,49.61108l-14.5565,-6.83051l9.53003,-19.11236l-20.485,-12.759l-12.759,20.01438l-13.65448,-8.63455l15.03366,-26.83835l-1.37918,-32.34852l-30.92358,12.28839l-15.92915,27.78612l-26.42002,-12.28185l18.21034,-34.61663l-29.1653,-17.31486l-60.98437,35.04804l-0.90202,71.521l28.68815,15.92915l22.28903,-33.244l25.518,14.08589l-17.78547,29.64245l3.17668,30.49219l30.96934,-11.85699l15.51081,-29.11954l15.45853,8.15739l-12.28185,20.96215l22.75966,13.18387l10.9092,-20.90986l16.41284,9.53003l-43.72834,31.87136l43.72834,31.86482l-16.41284,9.58233l-10.9092,-20.96215l-22.75966,13.22962l12.28185,21.39355l-15.45853,7.72599l-15.51081,-29.11954l-30.96934,-11.85045l-3.17668,30.49219l17.78547,29.59016l-25.518,14.13164l-22.28903,-33.244l-28.68815,16.41284l0.90202,70.99156l60.98437,35.09379l29.1653,-16.88346l-18.21034,-35.0415l26.42002,-12.28838l15.92915,27.79266l30.92358,12.28185l1.37918,-32.29623l-15.03366,-26.89064l13.65448,-8.67377l12.759,20.06014l20.485,-12.75901l-9.53003,-19.11235l14.5565,-6.83051l4.55585,49.61107l46.42787,-21.86417l-0.47062,17.78548l-20.9164,0.47062l-0.90202,25.46571l22.28904,0.47715l0,14.55651l-30.96934,0.4314l-25.04085,19.15811l25.04085,18.6352l33.72115,0.94778l1.80404,28.22406l-41.87855,3.17668l0,32.29622l62.36355,35.56441l62.36354,-35.56441l0,-32.29622l-41.87855,-3.17668l1.80404,-28.22406l33.72115,-0.94778l25.04085,-18.6352l-25.04085,-19.15811l-31.44649,-0.4314l0,-14.55651l22.34133,-0.47715l-0.47716,-25.46571l-20.9164,-0.47062l-0.94777,-17.78548l46.48015,21.86417l4.98072,-49.61107l14.55651,6.83051l-9.53004,19.11235l20.485,12.75901l12.28185,-20.06014l14.13164,8.67377l-15.03366,26.89064l0.90202,32.29623l31.40074,-12.28185l15.92914,-27.79266l26.42002,12.28838l-18.21034,35.0415l29.16531,16.88346l60.98436,-35.09379l0.90202,-70.99156l-28.68814,-16.41284l-22.28904,33.244l-25.518,-14.13164l17.30832,-29.59016l-2.69952,-30.49219l-30.96934,11.85045l-15.51082,29.11954l-15.93568,-7.72599l12.759,-21.39355l-22.75965,-13.22962l-10.90921,20.96215l-16.41283,-9.58233l43.72834,-31.86482l-43.72834,-31.87136l16.41283,-9.53003l10.90921,20.90986l22.75965,-13.18387l-12.759,-20.96215l15.93568,-8.15739l15.51082,29.11954l30.96934,11.85699l2.69952,-30.49219l-17.30832,-29.64245l25.518,-14.08589l22.28904,33.244l28.68814,-15.92915l-0.90202,-71.521l-60.98436,-35.04804l-29.16531,17.31486l18.21034,34.61663l-26.42002,12.28185l-15.92914,-27.78612l-31.40074,-12.28839l-0.90202,32.34852l15.03366,26.83835l-14.13164,8.63455l-12.28185,-20.01438l-20.485,12.759l9.53004,19.11236l-14.55651,6.83051l-4.98072,-49.61108l-46.48015,21.81842l0.94777,-17.26256l20.9164,-0.90202l0.47716,-25.08661l-22.34133,-0.90202l0,-14.56304l31.44649,-0.47062l25.04085,-19.11235l-25.04085,-18.64174l-33.72115,-0.89548l-1.80404,-28.26982l41.87855,-2.69952l0,-32.81914l-62.36354,-35.4729z" stroke-dashoffset="0" stroke-miterlimit="10.433" stroke-linejoin="round" stroke-linecap="round" stroke-width="0" fill="#ffffff" stroke="#1e1916" id="svg_1" filter="url(#svg_1_blur)"/>
</g>
<script>
<![CDATA[
//Defines the svg spec for Javascript.
var svgns = "http://www.w3.org/2000/svg";
//Adding the EventListener for keyboard presses.
document.addEventListener('keydown', function(event) {
    switch (event.keyCode) {
		case 32:
		if (typeof right[1] != 'undefined' && typeof prog == 'undefined'){rhythmgame();begintext.setAttribute("transform", "scale(0)");exphitbar()}
		break;
		case 37:
        alert('Left was pressed');
        break;
		case 39:
        alert('Right was pressed');
        break;
    }
}, true);

var notes, time, prog, posx, posy, timer;
function rhythmgame(){
	console.log("start")
	notes = left;
	time = right;
	prog = 0;
	rhyloop();
}
function rhyloop(){
	//This is the main loop of the game. In this loop, the coordinates are read and sent to senddown() to generate the snowflake. 
	posy = 80;
	posx = 20*notes[prog]-10;
	//senddown()
	//console.log(prog);
	//console.log(time[prog]);
	prog++;
	if (prog < notes.length) {timer = setTimeout("rhyloop()", time[prog-1])};
}
function senddown(){

	console.log(document)
	var xmlns = "http://www.w3.org/2000/svg";
	var elem = document.createElementNS(xmlns, "path");
	elem.setAttributeNS(null,"d","m260.40914,0l-62.36354,35.4729l0,32.81913l41.87855,2.69952l-1.80404,28.26982l-33.72115,0.89548l-25.04085,18.64174l25.04085,19.11236l30.96934,0.47062l0,14.56304l-22.28904,0.90202l0.90202,25.0866l20.9164,0.90202l0.47062,17.26256l-46.42786,-21.81842l-4.55585,49.61108l-14.5565,-6.83051l9.53003,-19.11236l-20.485,-12.759l-12.759,20.01438l-13.65449,-8.63455l15.03366,-26.83835l-1.37917,-32.34851l-30.92358,12.28838l-15.92914,27.78613l-26.42002,-12.28185l18.21034,-34.61664l-29.1653,-17.31485l-60.98437,35.04804l-0.90202,71.521l28.68815,15.92914l22.28904,-33.244l25.518,14.08589l-17.78547,29.64246l3.17668,30.49218l30.96934,-11.85698l15.51082,-29.11955l15.45852,8.15739l-12.28185,20.96215l22.75965,13.18387l10.90921,-20.90986l16.41283,9.53003l-43.72834,31.87136l43.72834,31.86482l-16.41283,9.58232l-10.90921,-20.96215l-22.75965,13.22962l12.28185,21.39355l-15.45852,7.72599l-15.51082,-29.11955l-30.96934,-11.85045l-3.17668,30.49218l17.78547,29.59016l-25.518,14.13164l-22.28904,-33.244l-28.68815,16.41283l0.90202,70.99156l60.98437,35.09379l29.1653,-16.88345l-18.21034,-35.0415l26.42002,-12.28838l15.92914,27.79266l30.92358,12.28185l1.37917,-32.29622l-15.03366,-26.89064l13.65449,-8.67377l12.759,20.06013l20.485,-12.759l-9.53003,-19.11236l14.5565,-6.83051l4.55585,49.61108l46.42786,-21.86417l-0.47062,17.78547l-20.9164,0.47062l-0.90202,25.46571l22.28904,0.47716l0,14.5565l-30.96934,0.4314l-25.04085,19.15811l25.04085,18.6352l33.72115,0.94777l1.80404,28.22406l-41.87855,3.17668l0,32.29622l62.36354,35.56441l62.36354,-35.56441l0,-32.29622l-41.87855,-3.17668l1.80404,-28.22406l33.72115,-0.94777l25.04085,-18.6352l-25.04085,-19.15811l-31.44649,-0.4314l0,-14.5565l22.34133,-0.47716l-0.47716,-25.46571l-20.9164,-0.47062l-0.94777,-17.78547l46.48015,21.86417l4.98072,-49.61108l14.5565,6.83051l-9.53003,19.11236l20.485,12.759l12.28185,-20.06013l14.13164,8.67377l-15.03366,26.89064l0.90202,32.29622l31.40074,-12.28185l15.92914,-27.79266l26.42002,12.28838l-18.21034,35.0415l29.1653,16.88345l60.98437,-35.09379l0.90202,-70.99156l-28.68815,-16.41283l-22.28904,33.244l-25.518,-14.13164l17.30832,-29.59016l-2.69952,-30.49218l-30.96934,11.85045l-15.51082,29.11955l-15.93568,-7.72599l12.759,-21.39355l-22.75965,-13.22962l-10.90921,20.96215l-16.41283,-9.58232l43.72834,-31.86482l-43.72834,-31.87136l16.41283,-9.53003l10.90921,20.90986l22.75965,-13.18387l-12.759,-20.96215l15.93568,-8.15739l15.51082,29.11955l30.96934,11.85698l2.69952,-30.49218l-17.30832,-29.64246l25.518,-14.08589l22.28904,33.244l28.68815,-15.92914l-0.90202,-71.521l-60.98437,-35.04804l-29.1653,17.31485l18.21034,34.61664l-26.42002,12.28185l-15.92914,-27.78613l-31.40074,-12.28838l-0.90202,32.34851l15.03366,26.83835l-14.13164,8.63455l-12.28185,-20.01438l-20.485,12.759l9.53003,19.11236l-14.5565,6.83051l-4.98072,-49.61108l-46.48015,21.81842l0.94777,-17.26256l20.9164,-0.90202l0.47716,-25.0866l-22.34133,-0.90202l0,-14.56304l31.44649,-0.47062l25.04085,-19.11236l-25.04085,-18.64174l-33.72115,-0.89548l-1.80404,-28.26982l41.87855,-2.69952l0,-32.81913l-62.36354,-35.4729z");
	elem.setAttributeNS(null,"stroke-miterlimit",10.433);
	elem.setAttributeNS(null,"fill","#00ffff");
	elem.setAttributeNS(null,"id","abctest");
	document.documentElement.appendChild(elem);
	var abctest = []
	abctest = [0,0,document.getElementById("abctest")];
	console.log(abctest[2])
	abctest[2].setAttribute("transform", "translate(0 0) scale(0.03)");
	//stroke-dashoffset="0" stroke-miterlimit="10.433" stroke-linejoin="round" stroke-linecap="round" stroke-width="0" fill="#00ffff" stroke="#1e1916"/>
	if (posy < 110){}
}

]]>
</script>
</svg>
